<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <th:block th:insert="~{fragments/head :: head}"></th:block>
    <script th:src="@{/js/showRegistrationForm.js}" defer="defer"></script>
    <title>AutoSpotter | Registracija</title>
</head>
<body class="flex flex-col min-h-screen">

    <th:block th:insert="~{fragments/header :: header}"></th:block>

    <main class="flex flex-1 dark:bg-gray-600">
        <th:block th:insert="~{fragments/sideDiv :: sideDiv}"></th:block>

        <div class="flex flex-col flex-1 w-50 items-center justify-center">
            <h1 class="text-3xl font-bold text-gray-700 mb-8">Registracija</h1>
            <div>
                <button id="btnPrivateUser" onclick="showOptionForm(1)" class="button">Privatni korisnik</button>
                <button id="btnBusinessUser" onclick="showOptionForm(2)" class="button">Poslovni korisnik</button>
            </div>
        
            <div class="hidden" id="formPrivateUser">
                <h2 class="text-xl font-bold text-gray-700 mb-6 mt-6">Registracija - privatni korisnik</h2>
                <form th:action="@{/registracija}" method="post">
                    <div class="flex flex-col mb-4">
                        <label for="firstName">Ime</label>
                        <input type="text" id="firstName" name="firstName" required class="input"/>
                    </div>
                    <div class="flex flex-col mb-4">
                        <label for="lastName">Prezime</label>
                        <input type="text" id="lastName" name="lastName" required class="input"/>
                    </div>
                    <div class="flex flex-col mb-4">
                        <label for="address">Adresa</label>
                        <input type="text" id="address" name="address" required class="input"/>
                    </div>
                    <div class="flex flex-col mb-4">
                        <label for="city">Grad</label>
                        <div class="relative inline-block w-96">
                          <select id="city" name="city" required class="input w-96">
                            <option value="" disabled selected>Odabir</option>
                            <th:block th:each="entry : ${citiesByCounty}">
                              <optgroup th:label="${entry.key}">
                                <th:block th:each="city : ${entry.value}">
                                  <option th:value="${city}" th:text="${city}" th:selected="${city eq session['city']}"></option>
                                </th:block>
                              </optgroup>
                            </th:block>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" :class="{ 'rotate-180': open }" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="select-icon absolute top-1/2 right-2 transform -translate-y-1/2 w-4 h-4 transition-transform duration-300 ease-in-out pointer-events-none">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                          </svg>
                        </div>
                    </div>
                    <div class="flex flex-col mb-4">
                        <label for="phoneNumber">Broj telefona</label>
                        <input type="text" id="phoneNumber" name="phoneNumber" required class="input"/>
                    </div>
                    <div class="flex flex-col mb-4">
                        <label for="email">E-mail adresa</label>
                        <input type="email" id="email" name="email" required class="input"/>
                    </div>
                    
                    <div class="flex flex-col mb-4">
                        <label for="username">Korisničko ime</label>
                        <input type="text" id="username" name="username" required  class="input"/>
                    </div>
                    
                    <div class="flex flex-col mb-4">
                        <label for="password">Lozinka</label>
                        <input type="password" id="password" name="password" required class="input"/>
                    </div>
                    <div class="flex flex-col mb-4">
                        <input type="submit" value="Potvrdi" class="button"/>
                    </div>
                </form>
            </div>
        
            <div class="hidden" id="formBusinessUser">
                <h2 class="text-xl font-bold text-gray-700 mb-6 mt-6">Registracija - poslovni korisnik</h2>
                <form th:action="@{/registracija}" method="post">
                    <div class="flex flex-col mb-4">
                        <label for="companyName">Naziv tvrtke</label>
                        <input type="text" id="companyName" name="companyName" required class="input"/>
                    </div>
                    <div class="flex flex-col mb-4">
                        <label for="companyOIB">Osobni identifikacijski broj tvrtke</label>
                        <input type="text" id="companyOIB" name="companyOIB" required class="input"/>
                    </div>
                    <div class="flex flex-col mb-4">
                        <label for="address">Adresa tvrtke</label>
                        <input type="text" id="address" name="address" required class="input"/>
                    </div>
                    <div class="flex flex-col mb-4">
                        <label for="city">Grad</label>
                        <div class="relative inline-block w-96">
                          <select id="city" name="city" required class="input w-96">
                            <option value="" disabled selected>Odabir</option>
                            <th:block th:each="entry : ${citiesByCounty}">
                              <optgroup th:label="${entry.key}">
                                <th:block th:each="city : ${entry.value}">
                                  <option th:value="${city}" th:text="${city}" th:selected="${city eq session['city']}"></option>
                                </th:block>
                              </optgroup>
                            </th:block>
                          </select>
                          <svg xmlns="http://www.w3.org/2000/svg" :class="{ 'rotate-180': open }" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="select-icon absolute top-1/2 right-2 transform -translate-y-1/2 w-4 h-4 transition-transform duration-300 ease-in-out pointer-events-none">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                          </svg>
                        </div>
                    </div>
                    <div class="flex flex-col mb-4">
                        <label for="phoneNumber">Broj telefona</label>
                        <input type="text" id="phoneNumber" name="phoneNumber" required class="input"/>
                    </div>
                    <div class="flex flex-col mb-4">
                        <label for="email">E-mail adresa</label>
                        <input type="email" id="email" name="email" required class="input"/>
                    </div>
                    <div class="flex flex-col mb-4">
                        <label for="username">Korisničko ime</label>
                        <input type="text" id="username" name="username" required class="input"/>
                    </div>
                    <div class="flex flex-col mb-4">
                        <label for="password">Lozinka</label>
                        <input type="password" id="password" name="password" required class="input"/>
                    </div>
                    <div class="flex flex-col mb-4">
                        <input type="submit" value="Potvrdi" class="button"/>
                    </div>
                </form>
            </div>
        </div>

        <th:block th:insert="~{fragments/sideDiv :: sideDiv}"></th:block>

    </main>
    <footer>
        <th:block th:insert="~{fragments/footer :: footer}"></th:block>
    </footer>
</body>
</html>